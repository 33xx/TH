import base64
exec(base64.b64decode(b'ZnJvbSB0ZWxldGhvbi5lcnJvcnMgaW1wb3J0ICgKICAgIEJhZFJlcXVlc3RFcnJvciwKICAgIEltYWdlUHJvY2Vzc0ZhaWxlZEVycm9yLAogICAgUGhvdG9Dcm9wU2l6ZVNtYWxsRXJyb3IsCikKZnJvbSB0ZWxldGhvbi5lcnJvcnMucnBjZXJyb3JsaXN0IGltcG9ydCBVc2VySWRJbnZhbGlkRXJyb3IKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMu8J2WifCdlorwnZabYW5uZWxzIGltcG9ydCAoCiAgICBFZGl0QWRtaW5SZXF1ZXN0LAogICAgRWRpdEJhbm5lZFJlcXVlc3QsCiAgICBFZGl0UGhvdG9SZXF1ZXN0LAopCmZyb20gdGVsZXRob24udGwudHlwZXMgaW1wb3J0ICgKICAgIPCdlonwnZaK8J2Wm2F0QWRtaW5SaWdodHMsCiAgICDwnZaJ8J2WivCdlpthdEJhbm5lZFJpZ2h0cywKICAgIElucHV08J2WifCdlorwnZabYXRQaG90b0VtcHR5LAogICAgTWVzc2FnZU1lZGlhUGhvdG8sCikKCmZyb20gdXNlcmJvdCBpbXBvcnQgam10aG9uCgpmcm9tIC4uY29yZS5sb2dnZXIgaW1wb3J0IGxvZ2dpbmcKZnJvbSAuLmNvcmUubWFuYWdlcnMgaW1wb3J0IGVkaXRfZGVsZXRlLCBlZGl0X29yX3JlcGx5CmZyb20gLi5oZWxwZXJzLnV0aWxzIGltcG9ydCBfZm9ybWF0LCBnZXRfdXNlcl9mcm9tX2V2ZW50CmZyb20gLi5zcWxfaGVscGVyLm11dGVfc3FsIGltcG9ydCBpc19tdXRlZApmcm9tIC4gaW1wb3J0IEJPVExPRywgQk9UTE9HX/CdlonwnZaK8J2Wm0FUSUQKCiMgPT09PT09PT09PT09PT09PT09PSBTVFJJTkdTID09PT09PT09PT09PQpQUF9UT09fU01PTCA9ICIqKuKZsO+4mdin2YTYtdmI2LHYqSDYtdi62YrYsdipINis2K/Zi9inKiogIgpQUF9FUlJPUiA9ICIqKuKZsO+4mdmB2LTZhCDYo9ir2YbYp9ihINmF2LnYp9mE2KzYqSDYp9mE2LXZiNix2KkqKiAiCk5PX0FETUlOID0gIioq4pmw77iZ2KPZhtinINmE2LPYqiDZhdi02LHZgSDZh9mG2KchISoqICIKTk9fUEVSTSA9ICIqKuKZsO+4mdmE2YrYsyDZhNiv2Yog2KPYsNmI2YbYp9iqINmD2KfZgdmK2KkhKiogIgrwnZaJ8J2WivCdlptBVF9QUF/wnZaJ8J2WivCdlptBTkdFRCA9ICIqKuKZsO+4mdiq2YUg2KrYutmK2YrYsSDYtdmI2LHYqSDYp9mE2K/Ysdiv2LTYqSDYqNmG2KzYp9itIOKchSoqIgpJTlZBTElEX01FRElBID0gIioq4pmw77iZ2YXZhNit2YIg2LrZitixINi12KfZhNitKiogIgoKQkFOTkVEX1JJR0hUUyA9IPCdlonwnZaK8J2Wm2F0QmFubmVkUmlnaHRzKAogICAgdW50aWxfZGF0ZT1Ob25lLAogICAgdmlld19tZXNzYWdlcz1UcnVlLAogICAgc2VuZF9tZXNzYWdlcz1UcnVlLAogICAgc2VuZF9tZWRpYT1UcnVlLAogICAgc2VuZF9zdGlja2Vycz1UcnVlLAogICAgc2VuZF9naWZzPVRydWUsCiAgICBzZW5kX2dhbWVzPVRydWUsCiAgICBzZW5kX2lubGluZT1UcnVlLAogICAgZW1iZWRfbGlua3M9VHJ1ZSwKKQojIGFkbWluIHBsdWdpbiBmb3IgIGptdGhvbgpVTkJBTl9SSUdIVFMgPSDwnZaJ8J2WivCdlpthdEJhbm5lZFJpZ2h0cygKICAgIHVudGlsX2RhdGU9Tm9uZSwKICAgIHNlbmRfbWVzc2FnZXM9Tm9uZSwKICAgIHNlbmRfbWVkaWE9Tm9uZSwKICAgIHNlbmRfc3RpY2tlcnM9Tm9uZSwKICAgIHNlbmRfZ2lmcz1Ob25lLAogICAgc2VuZF9nYW1lcz1Ob25lLAogICAgc2VuZF9pbmxpbmU9Tm9uZSwKICAgIGVtYmVkX2xpbmtzPU5vbmUsCikKCkxPR1MgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKTVVURV9SSUdIVFMgPSDwnZaJ8J2WivCdlpthdEJhbm5lZFJpZ2h0cyh1bnRpbF9kYXRlPU5vbmUsIHNlbmRfbWVzc2FnZXM9VHJ1ZSkKVU5NVVRFX1JJR0hUUyA9IPCdlonwnZaK8J2Wm2F0QmFubmVkUmlnaHRzKHVudGlsX2RhdGU9Tm9uZSwgc2VuZF9tZXNzYWdlcz1GYWxzZSkKCnBsdWdpbl9jYXRlZ29yeSA9ICJhYWRtaW4iCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgoKQGptdGhvbi5hcl9jbWQoCiAgICBwYXR0ZXJuPSLYp9mE2LXZiNix2KkoIC3ZiNi22Ll8IC3Yrdiw2YEpJCIsCiAgICBjb21tYW5kPSgi2KfZhNi12YjYsdipIiwgcGx1Z2luX2NhdGVnb3J5KSwKICAgIGluZm89ewogICAgICAgICLimbDvuJnYp9mE2KPYs9mA2KrYrtiv2KfZhSI6ICJGb3Ig8J2WifCdlorwnZabYW5naW5nIGdyb3VwIGRpc3BsYXkgcGljIG9yIGRlbGV0aW5nIGRpc3BsYXkgcGljIiwKICAgICAgICAi4pmw77iZ2KfZhNi02YDYsditIjogIlJlcGx5IHRvIEltYWdlIGZvciDwnZaJ8J2WivCdlpthbmdpbmcgZGlzcGxheSBwaWN0dXJlIiwKICAgICAgICAiZmxhZ3MiOiB7CiAgICAgICAgICAgICItcyI6ICJUbyBzZXQgZ3JvdXAgcGljIiwKICAgICAgICAgICAgIi1kIjogIlRvIGRlbGV0ZSBncm91cCBwaWMiLAogICAgICAgIH0sCiAgICAgICAgIuKZsO+4mdin2YTYo9mF2YDYsSI6IFsKICAgICAgICAgICAgInt0cn3Yp9mE2LXZiNix2KkgLdmI2LbYuSA8cmVwbHkgdG8gaW1hZ2U+IiwKICAgICAgICAgICAgInt0cn1ncGljIC3Yrdiw2YEiLAogICAgICAgIF0sCiAgICB9LAogICAgZ3JvdXBzX29ubHk9VHJ1ZSwKICAgIHJlcXVpcmVfYWRtaW49VHJ1ZSwKKQphc3luYyBkZWYgc2V0X2dyb3VwX3Bob3RvKGV2ZW50KTogICMgc291cmNlcnkgbm8tbWV0cmljcwogICAgIkZvciDwnZaJ8J2WivCdlpthbmdpbmcgR3JvdXAgZHAiCiAgICBmbGFnID0gKGV2ZW50LnBhdHRlcm5fbWF08J2WifCdlorwnZabLmdyb3VwKDEpKS5zdHJpcCgpCiAgICBpZiBmbGFnID09ICItcyI6CiAgICAgICAgcmVwbHltc2cgPSBhd2FpdCBldmVudC5nZXRfcmVwbHlfbWVzc2FnZSgpCiAgICAgICAgcGhvdG8gPSBOb25lCiAgICAgICAgaWYgcmVwbHltc2cgYW5kIHJlcGx5bXNnLm1lZGlhOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHJlcGx5bXNnLm1lZGlhLCBNZXNzYWdlTWVkaWFQaG90byk6CiAgICAgICAgICAgICAgICBwaG90byA9IGF3YWl0IGV2ZW50LmNsaWVudC5kb3dubG9hZF9tZWRpYShtZXNzYWdlPXJlcGx5bXNnLnBob3RvKQogICAgICAgICAgICBlbGlmICJpbWFnZSIgaW4gcmVwbHltc2cubWVkaWEuZG9jdW1lbnQubWltZV90eXBlLnNwbGl0KCIvIik6CiAgICAgICAgICAgICAgICBwaG90byA9IGF3YWl0IGV2ZW50LmNsaWVudC5kb3dubG9hZF9maWxlKHJlcGx5bXNnLm1lZGlhLmRvY3VtZW50KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGVkaXRfZGVsZXRlKGV2ZW50LCBJTlZBTElEX01FRElBKQogICAgICAgIGlmIHBob3RvOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBhd2FpdCBldmVudC5jbGllbnQoCiAgICAgICAgICAgICAgICAgICAgRWRpdFBob3RvUmVxdWVzdCgKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQu8J2WifCdlorwnZabYXRfaWQsIGF3YWl0IGV2ZW50LmNsaWVudC51cGxvYWRfZmlsZShwaG90bykKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwg8J2WifCdlorwnZabQVRfUFBf8J2WifCdlorwnZabQU5HRUQpCiAgICAgICAgICAgIGV4Y2VwdCBQaG90b0Nyb3BTaXplU21hbGxFcnJvcjoKICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwgUFBfVE9PX1NNT0wpCiAgICAgICAgICAgIGV4Y2VwdCBJbWFnZVByb2Nlc3NGYWlsZWRFcnJvcjoKICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwgUFBfRVJST1IpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwgZiIqKtiu2YDYt9ijIDogKipge3N0cihlKX1gIikKICAgICAgICAgICAgcHJvY2VzcyA9ICJ1cGRhdGVkIgogICAgZWxzZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudChFZGl0UGhvdG9SZXF1ZXN0KGV2ZW50LvCdlonwnZaK8J2Wm2F0X2lkLCBJbnB1dPCdlonwnZaK8J2Wm2F0UGhvdG9FbXB0eSgpKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHJldHVybiBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwgZiIqKtiu2YDYt9ijIDogKipge3N0cihlKX1gIikKICAgICAgICBwcm9jZXNzID0gImRlbGV0ZWQiCiAgICAgICAgYXdhaXQgZWRpdF9kZWxldGUoZXZlbnQsICIqKuKZsO+4mdiq2YDZhSDYrdiw2YEg2KfZhNmA2LXZiNix2Kkg2KjZhtmA2KzYp9itIOKchSIpCiAgICBpZiBCT1RMT0c6CiAgICAgICAgYXdhaXQgZXZlbnQuY2xpZW50LnNlbmRfbWVzc2FnZSgKICAgICAgICAgICAgQk9UTE9HX/CdlonwnZaK8J2Wm0FUSUQsCiAgICAgICAgICAgICIj2LXZiNix2Ydf2KfZhNmF2KzZhdmI2LnYqVxuIgogICAgICAgICAgICBmIti12YjYsdipINin2YTZhdis2YXZiNi52Ycge3Byb2Nlc3N9INio2YbYrNin2K0gIgogICAgICAgICAgICBmItin2YTYr9ix2K/YtNmHOiB7ZXZlbnQu8J2WifCdlorwnZabYXQudGl0bGV9KGB7ZXZlbnQu8J2WifCdlorwnZabYXRfaWR9YCkiLAogICAgICAgICkKCgpAam10aG9uLmFyX2NtZCgKICAgIHBhdHRlcm49Itix2YHYuSDZhdi02LHZgSg/OlxzfCQpKFtcc1xTXSopIiwKICAgIGNvbW1hbmQ9KCLYsdmB2Lkg2YXYtNix2YEiLCBwbHVnaW5fY2F0ZWdvcnkpLAogICAgaW5mbz17CiAgICAgICAgItin2YTYp9mF2LEiOiAi4pmw77iZ2YTYsdmB2Lkg2KfZhNi02K7YtSDZhdi02LHZgSDZhdi5INi12YTYp9it2YrYp9iqIiwKICAgICAgICAi2KfZhNi02LHYrSI6ICLimbDvuJnZhNix2YHYuSDYp9mE2LTYrti1INmF2LTYsdmBINio2KfZhNmF2KzZhdmI2LnZhyDZgtmFINio2KfZhNix2K8g2LnZhNmJINin2YTYtNiu2LVcCiAgICAgICAgICAgIFxu4pmw77iZ2KrZgNit2KrYp9isINin2YTYtdmE2KfYrdmA2YrYp9iqINmE2YDZh9iw2Kcg2KfZhNij2YXZgNixIiwKICAgICAgICAi2KfZhNin2LPYqtiu2K/Yp9mFIjogWwogICAgICAgICAgICAie3Ryfdix2YHYuSDZhdi02LHZgSA82KfZitiv2Yov2YXYudix2YEv2KjYp9mE2LHYryDYudmE2YrZhz4iLAogICAgICAgICAgICAie3Ryfdix2YHYuSDZhdi02LHZgSA82KfZitiv2Yov2YXYudix2YEv2KjYp9mE2LHYryDYudmE2YrZhz4gIiwKICAgICAgICBdLAogICAgfSwKICAgIGdyb3Vwc19vbmx5PVRydWUsCiAgICByZXF1aXJlX2FkbWluPVRydWUsCikgICMgYWRtaW4gcGx1Z2luIGZvciAgam10aG9uCmFzeW5jIGRlZiBwcm9tb3RlKGV2ZW50KToKICAgICLimbDvuJnZhNmA2LHZgdi5INmF2LPYqtmA2K7Yr9mFINmF2LTZgNix2YEg2YHZiiDYp9mE2YDZg9ix2YjYqCIKICAgIG5ld19yaWdodHMgPSDwnZaJ8J2WivCdlpthdEFkbWluUmlnaHRzKAogICAgICAgIGFkZF9hZG1pbnM9RmFsc2UsCiAgICAgICAgaW52aXRlX3VzZXJzPVRydWUsCiAgICAgICAg8J2WifCdlorwnZabYW5nZV9pbmZvPUZhbHNlLAogICAgICAgIGJhbl91c2Vycz1UcnVlLAogICAgICAgIGRlbGV0ZV9tZXNzYWdlcz1UcnVlLAogICAgICAgIHBpbl9tZXNzYWdlcz1UcnVlLAogICAgKQogICAgdXNlciwgcmFuayA9IGF3YWl0IGdldF91c2VyX2Zyb21fZXZlbnQoZXZlbnQpCiAgICBpZiBub3QgcmFuazoKICAgICAgICByYW5rID0gIkFkbWluIgogICAgaWYgbm90IHVzZXI6CiAgICAgICAgcmV0dXJuCiAgICBjYXRldmVudCA9IGF3YWl0IGVkaXRfb3JfcmVwbHkoZXZlbnQsICIqKtmK2YDYqtmFINin2YTYsdmB2YDYuSoqIikKICAgIHRyeToKICAgICAgICBhd2FpdCBldmVudC5jbGllbnQoRWRpdEFkbWluUmVxdWVzdChldmVudC7wnZaJ8J2WivCdlpthdF9pZCwgdXNlci5pZCwgbmV3X3JpZ2h0cywgcmFuaykpCiAgICBleGNlcHQgQmFkUmVxdWVzdEVycm9yOgogICAgICAgIHJldHVybiBhd2FpdCBjYXRldmVudC5lZGl0KE5PX1BFUk0pCiAgICBhd2FpdCBjYXRldmVudC5lZGl0KCIqKtiq2YUg2LHZgdi52Ycg2YXYtNix2YEg2KjYp9mE2YXYrNmF2YjYudmHINio2YbYrNin2K0g4pyFKioiKQogICAgaWYgQk9UTE9HOgogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgIEJPVExPR1/wnZaJ8J2WivCdlptBVElELAogICAgICAgICAgICBmIiPYp9mE2YDYsdmB2YDYuVwKICAgICAgICAgICAgXG7Yp9mE2YDZhdiz2KrYrtmA2K/ZhTogW3t1c2VyLmZpcnN0X25hbWV9XSh0ZzovL3VzZXI/aWQ9e3VzZXIuaWR9KVwKICAgICAgICAgICAgXG7Yp9mE2YDYr9ix2K/YtNmA2Kk6IHtldmVudC7wnZaJ8J2WivCdlpthdC50aXRsZX0gKGB7ZXZlbnQu8J2WifCdlorwnZabYXRfaWR9YCkiLAogICAgICAgICkKCgpAam10aG9uLmFyX2NtZCgKICAgIHBhdHRlcm49Itiq2YMoPzpcc3wkKShbXHNcU10qKSIsCiAgICBjb21tYW5kPSgi2KrZgyIsIHBsdWdpbl9jYXRlZ29yeSksCiAgICBpbmZvPXsKICAgICAgICAi2KfZhNin2YXYsSI6ICLimbDvuJnZhNiq2YbYstmK2YQg2KfZhNi02K7YtSDZg9mGINin2YTYp9i02LHYp9mBIiwKICAgICAgICAi2KfZhNi02LHYrSI6ICLimbDvuJnZitmC2YjZhSDZh9iw2Kcg2KfZhNin2YXYsSDYqNit2LDZgSDYrNmF2YrYuSDYtdmE2KfYrdmK2KfYqiDYp9mE2YXYtNix2YFcCiAgICAgICAgICAgIFxu4pmw77iZ2YXZhNin2K3YuNmHIDoqKtmE2KfYstmFINiq2YPZiNmGINin2YbYqiDYp9mE2LTYrti1INin2YTZiiDYsdmB2LnZhyDYp9mIINiq2YPZiNmGINmF2KfZhNmDINin2YTZhdis2YXZiNi52Ycg2K3YqtmJINiq2YbYstmE2YcqKiIsCiAgICAgICAgItin2YTYp9iz2KrYrtiv2KfZhSI6IFsKICAgICAgICAgICAgInt0cn3YqtmDIDzYp9mE2KfZitiv2Yov2KfZhNmF2LnYsdmBL9io2KfZhNix2K8g2LnZhNmK2Yc+IiwKICAgICAgICAgICAgInt0cn3YqtmDIDzYp9mE2KfZitiv2Yov2KfZhNmF2LnYsdmBL9io2KfZhNix2K8g2LnZhNmK2Yc+IiwKICAgICAgICBdLAogICAgfSwKICAgIGdyb3Vwc19vbmx5PVRydWUsCiAgICByZXF1aXJlX2FkbWluPVRydWUsCikKYXN5bmMgZGVmIGRlbW90ZShldmVudCk6CiAgICAi4pmw77iZ2YTZgNiq2YbYstmK2YDZhCDYtNmA2K7YtSDZhdmGINin2YTYo9i02YDYsdin2YEiCiAgICB1c2VyLCBfID0gYXdhaXQgZ2V0X3VzZXJfZnJvbV9ldmVudChldmVudCkKICAgIGlmIG5vdCB1c2VyOgogICAgICAgIHJldHVybgogICAgY2F0ZXZlbnQgPSBhd2FpdCBlZGl0X29yX3JlcGx5KGV2ZW50LCAiKirimbDvuJnZitmA2KrZhSDYp9mE2KrZhtiy2YrZhCDZhdmGINin2YTYp9i02LHYp9mBKioiKQogICAgbmV3cmlnaHRzID0g8J2WifCdlorwnZabYXRBZG1pblJpZ2h0cygKICAgICAgICBhZGRfYWRtaW5zPU5vbmUsCiAgICAgICAgaW52aXRlX3VzZXJzPU5vbmUsCiAgICAgICAg8J2WifCdlorwnZabYW5nZV9pbmZvPU5vbmUsCiAgICAgICAgYmFuX3VzZXJzPU5vbmUsCiAgICAgICAgZGVsZXRlX21lc3NhZ2VzPU5vbmUsCiAgICAgICAgcGluX21lc3NhZ2VzPU5vbmUsCiAgICApCiAgICByYW5rID0gImFkbWluIgogICAgdHJ5OgogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudChFZGl0QWRtaW5SZXF1ZXN0KGV2ZW50LvCdlonwnZaK8J2Wm2F0X2lkLCB1c2VyLmlkLCBuZXdyaWdodHMsIHJhbmspKQogICAgZXhjZXB0IEJhZFJlcXVlc3RFcnJvcjoKICAgICAgICByZXR1cm4gYXdhaXQgY2F0ZXZlbnQuZWRpdChOT19QRVJNKQogICAgYXdhaXQgY2F0ZXZlbnQuZWRpdCgiKirimbDvuJnYqtmA2YUg2KrZhtiy2YrZhNmHINmF2YYg2YLYp9im2YXZhyDYp9mE2KfYr9mF2YbZitmHINio2YbYrNin2K0g4pyFKioiKQogICAgaWYgQk9UTE9HOgogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgIEJPVExPR1/wnZaJ8J2WivCdlptBVElELAogICAgICAgICAgICBmIiPYqtmG2LLZitmEX9mF2LTYsdmBXAogICAgICAgICAgICBcbtin2YTZhdi52LHZgTogW3t1c2VyLmZpcnN0X25hbWV9XSh0ZzovL3VzZXI/aWQ9e3VzZXIuaWR9KVwKICAgICAgICAgICAgXG7Yp9mE2K/Ysdiv2LTZhzoge2V2ZW50LvCdlonwnZaK8J2Wm2F0LnRpdGxlfShge2V2ZW50LvCdlonwnZaK8J2Wm2F0X2lkfWApIiwKICAgICAgICApCgoKQGptdGhvbi5hcl9jbWQoCiAgICBwYXR0ZXJuPSLYt9ix2K8oPzpcc3wkKShbXHNcU10qKSIsCiAgICBjb21tYW5kPSgi2LfYsdivIiwgcGx1Z2luX2NhdGVnb3J5KSwKICAgIGluZm89ewogICAgICAgICLimbDvuJnYp9mE2KPYs9mA2KrYrtiv2KfZhSI6ICLZhNmA2LfYsdivINi02YDYrti2INmF2YYg2KfZhNmA2YPYsdmI2KgiLAogICAgICAgICLimbDvuJnYp9mE2LTZgNix2K0iOiAi2YTZgNi32LHYryDYtNiu2LUg2YXZhiDYp9mE2YXZgNis2YXZiNi52Kkg2YrYs9iq2LfZiti5INin2YTYo9mG2LbZgNmF2KfZhSDZhdix2Kkg2KfYrtmA2LHZiS5cCiAgICAgICAgXG7imbDvuJnYqtmA2K3Yqtin2Kwg2KfZhNi12YTYp9it2YDZitin2Kog2YTZgNmH2LDYpyDYp9mE2KPZhdmA2LEuIiwKICAgICAgICAi4pmw77iZ2KfZhNij2YXZgNixIjogWwogICAgICAgICAgICAie3Ryfdi32LHYryA82KfZhNin2YrYr9mKL9in2YTZhdi52LHZgS/YqNin2YTYsdivINi52YTZitmHPiIsCiAgICAgICAgICAgICJ7dHJ92LfYsdivIDzYp9mE2KfZitiv2Yov2KfZhNmF2LnYsdmBL9io2KfZhNix2K8g2LnZhNmK2Yc+IDzYp9mE2LPYqNioPiAiLAogICAgICAgIF0sCiAgICB9LAogICAgZ3JvdXBzX29ubHk9VHJ1ZSwKICAgIHJlcXVpcmVfYWRtaW49VHJ1ZSwKKQphc3luYyBkZWYgZW5kbXV0ZShldmVudCk6CiAgICAi2YTZgNi32LHYryDYtNmA2K7YtiDZhdmGINin2YTZgNmD2LHZiNioIgogICAgdXNlciwgcmVhc29uID0gYXdhaXQgZ2V0X3VzZXJfZnJvbV9ldmVudChldmVudCkKICAgIGlmIG5vdCB1c2VyOgogICAgICAgIHJldHVybgogICAgY2F0ZXZlbnQgPSBhd2FpdCBlZGl0X29yX3JlcGx5KGV2ZW50LCAi4pmw77iZ2YrZgNiq2YUg2LfZgNix2K8g2KfZhNmA2YXYs9iq2K7Yr9mFINij2YbYqtmA2LjYsSIpCiAgICB0cnk6CiAgICAgICAgYXdhaXQgZXZlbnQuY2xpZW50LmtpY2tfcGFydGljaXBhbnQoZXZlbnQu8J2WifCdlorwnZabYXRfaWQsIHVzZXIuaWQpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmV0dXJuIGF3YWl0IGNhdGV2ZW50LmVkaXQoTk9fUEVSTSArIGYiXG57c3RyKGUpfSIpCiAgICBpZiByZWFzb246CiAgICAgICAgYXdhaXQgY2F0ZXZlbnQuZWRpdCgKICAgICAgICAgICAgZiLimbDvuJnYp9mE2YDZhdiz2KrYrtiv2YUgW3t1c2VyLmZpcnN0X25hbWV9XSh0ZzovL3VzZXI/aWQ9e3VzZXIuaWR9KVxuIOKZsO+4mdiq2YDZhSDYt9ix2K/ZhyDYqNmG2KzYp9itIOKchSBcbuKZsO+4mdin2YTYs9mA2KjYqCA6IHtyZWFzb259IgogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAgYXdhaXQgY2F0ZXZlbnQuZWRpdCgKICAgICAgICAgICAgZiLimbDvuJnYp9mE2YDZhdiz2KrYrtiv2YUgW3t1c2VyLmZpcnN0X25hbWV9XSh0ZzovL3VzZXI/aWQ9e3VzZXIuaWR9KVxuIOKZsO+4mdiq2YDZhSDYt9ix2K/ZhyDYqNmG2KzYp9itIOKchSAiCiAgICAgICAgKQoKCkBqbXRob24uYXJfY21kKAogICAgcGF0dGVybj0i2K3YuNixKD86XHN8JCkoW1xzXFNdKikiLAogICAgY29tbWFuZD0oItit2LjYsSIsIHBsdWdpbl9jYXRlZ29yeSksCiAgICBpbmZvPXsKICAgICAgICAi4pmw77iZ2KfZhNin2LPYqtiu2K/Yp9mFIjogItmK2YLZgNmI2YUg2KjZgNit2LjYsSDYtNiu2YDYtSDZgdmKINin2YTZgNmD2LHZiNioINin2YTYodmKINin2LPZgNiq2K7Yr9mF2Kog2YHZitmA2Ycg2KfZhNin2YXYsS4iLAogICAgICAgICLimbDvuJnYp9mE2LTYsditIjogItmE2K3ZgNi42LEg2LTYrtmA2LUg2YXZhiDYp9mE2YPZgNix2YjYqCDZiNmF2YDZhti52Ycg2YXZhiDYp9mE2KPZhtmA2LbZhdin2YUg2YXYrNmA2K/Yr9inXAogICAgICAgICAgICBcbuKZsO+4mdiq2YDYrdiq2KfYrCDYp9mE2LXZhNin2K3ZgNmK2KfYqiDZhNmA2YfYsNinINin2YTYo9mF2YDYsS4iLAogICAgICAgICLimbDvuJnYp9mE2KfZhdixIjogWwogICAgICAgICAgICAie3Ryfdit2LjYsSA82KfZhNin2YrYr9mKL9in2YTZhdi52LHZgS/YqNin2YTYsdivINi52YTZitmHPiIsCiAgICAgICAgICAgICJ7dHJ92K3YuNixIDzYp9mE2KfZitiv2Yov2KfZhNmF2LnYsdmBL9io2KfZhNix2K8g2LnZhNmK2Yc+IDzYp9mE2LPYqNioPiIsCiAgICAgICAgXSwKICAgIH0sCiAgICBncm91cHNfb25seT1UcnVlLAogICAgcmVxdWlyZV9hZG1pbj1UcnVlLAopCmFzeW5jIGRlZiBfYmFuX3BlcnNvbihldmVudCk6CiAgICAi4pmw77iZ2YTYrdmA2LjYsSDYtNiu2LUg2YHZiiDZg9mA2LHZiNioINmF2YDYudmK2YYiCiAgICB1c2VyLCByZWFzb24gPSBhd2FpdCBnZXRfdXNlcl9mcm9tX2V2ZW50KGV2ZW50KQogICAgaWYgbm90IHVzZXI6CiAgICAgICAgcmV0dXJuCiAgICBpZiB1c2VyLmlkID09IDE3MTUwNTE2MTY6CiAgICAgICAgcmV0dXJuIGF3YWl0IGVkaXRfZGVsZXRlKGV2ZW50LCAiKiotINmE2Kcg2YrZhdqq2YbZhtmKINit2LjYsSDZg9ix2YjYqNmKINiv2Yog2YTZgyoqIikKICAgIGlmIHVzZXIuaWQgPT0gMTY5NDM4NjU2MToKICAgICAgICByZXR1cm4gYXdhaXQgZWRpdF9kZWxldGUoZXZlbnQsICIqKi0g2YTYpyDZitmF2qrZhtmG2Yog2K3YuNixINmD2LHZiNio2Yog2K/ZiiDZhNmDKioiKQogICAgaWYgdXNlci5pZCA9PSAxNjU3OTMzNjgwOgogICAgICAgIHJldHVybiBhd2FpdCBlZGl0X2RlbGV0ZShldmVudCwgIioqLSDZhNinINmK2YXaqtmG2YbZiiDYrdi42LEg2YPYsdmI2KjZiiDYr9mKINmE2YMqKiIpCiAgICBjYXRldmVudCA9IGF3YWl0IGVkaXRfb3JfcmVwbHkoZXZlbnQsICLimbDvuJnYqtmA2YUg2K3ZgNi42LHZhyDYqNmA2YbYrNin2K0iKQogICAgdHJ5OgogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudChFZGl0QmFubmVkUmVxdWVzdChldmVudC7wnZaJ8J2WivCdlpthdF9pZCwgdXNlci5pZCwgQkFOTkVEX1JJR0hUUykpCiAgICBleGNlcHQgQmFkUmVxdWVzdEVycm9yOgogICAgICAgIHJldHVybiBhd2FpdCBjYXRldmVudC5lZGl0KE5PX1BFUk0pCiAgICB0cnk6CiAgICAgICAgcmVwbHkgPSBhd2FpdCBldmVudC5nZXRfcmVwbHlfbWVzc2FnZSgpCiAgICAgICAgaWYgcmVwbHk6CiAgICAgICAgICAgIGF3YWl0IHJlcGx5LmRlbGV0ZSgpCiAgICBleGNlcHQgQmFkUmVxdWVzdEVycm9yOgogICAgICAgIHJldHVybiBhd2FpdCBjYXRldmVudC5lZGl0KCLimbDvuJnZhNmK2YDYsyDZhNmA2K/ZiiDYrNmA2YXZiti5INin2YTYtdmA2YTYp9it2YrZgNin2Kog2YTZg9mA2YYg2LPZitmA2KjZgtmJINmF2K3ZgNi42YjYsSIpCiAgICBpZiByZWFzb246CiAgICAgICAgYXdhaXQgY2F0ZXZlbnQuZWRpdCgKICAgICAgICAgICAgZiLimbDvuJnYp9mE2YXYs9mA2KrYrtiv2YUge19mb3JtYXQubWVudGlvbnVzZXIodXNlci5maXJzdF9uYW1lICx1c2VyLmlkKX0gXG4g4pmw77iZ2KrZgNmFINit2YDYuNix2Ycg2KjZhtmA2KzYp9itICEhXG4qKuKZsO+4mdin2YTYs9io2KggOiAqKmB7cmVhc29ufWAiCiAgICAgICAgKQogICAgZWxzZToKICAgICAgICBhd2FpdCBjYXRldmVudC5lZGl0KAogICAgICAgICAgICBmIuKZsO+4mdin2YTZhdiz2YDYqtiu2K/ZhSB7X2Zvcm1hdC5tZW50aW9udXNlcih1c2VyLmZpcnN0X25hbWUgLHVzZXIuaWQpfSBcbiDimbDvuJnYqtmA2YUg2K3ZgNi42LHZhyDYqNmG2YDYrNin2K0g4pyFIgogICAgICAgICkKICAgIGlmIEJPVExPRzoKICAgICAgICBpZiByZWFzb246CiAgICAgICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgICAgICBCT1RMT0df8J2WifCdlorwnZabQVRJRCwKICAgICAgICAgICAgICAgIGYi4pmw77iZ2KfZhNit2YDYuNixXAogICAgICAgICAgICAgICAgXG7Yp9mE2YXYs9mA2KrYrtiv2YU6IFt7dXNlci5maXJzdF9uYW1lfV0odGc6Ly91c2VyP2lkPXt1c2VyLmlkfSlcCiAgICAgICAgICAgICAgICBcbtin2YTZgNiv2LHYr9i02YDYqToge2V2ZW50LvCdlonwnZaK8J2Wm2F0LnRpdGxlfVwKICAgICAgICAgICAgICAgIFxu2KfZitiv2Yog2KfZhNmD2LHZiNioKGB7ZXZlbnQu8J2WifCdlorwnZabYXRfaWR9YClcCiAgICAgICAgICAgICAgICBcbtin2YTYs9io2YDYqCA6IHtyZWFzb259IiwKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgICAgICBCT1RMT0df8J2WifCdlorwnZabQVRJRCwKICAgICAgICAgICAgICAgIGYi4pmw77iZ2KfZhNit2YDYuNixXAogICAgICAgICAgICAgICAgXG7Yp9mE2YXYs9mA2KrYrtiv2YU6IFt7dXNlci5maXJzdF9uYW1lfV0odGc6Ly91c2VyP2lkPXt1c2VyLmlkfSlcCiAgICAgICAgICAgICAgICBcbtin2YTZgNiv2LHYr9i02YDYqToge2V2ZW50LvCdlonwnZaK8J2Wm2F0LnRpdGxlfVwKICAgICAgICAgICAgICAgIFxuINin2YrZgNiv2Yog2KfZhNmD2YDYsdmI2Kg6IChge2V2ZW50LvCdlonwnZaK8J2Wm2F0X2lkfWApIiwKICAgICAgICAgICAgKQoKCkBqbXRob24uYXJfY21kKAogICAgcGF0dGVybj0i2KfZhNi62KfYoSDYrdi42LEoPzpcc3wkKShbXHNcU10qKSIsCiAgICBjb21tYW5kPSgi2KfZhNi62KfYoSDYrdi42LEiLCBwbHVnaW5fY2F0ZWdvcnkpLAogICAgaW5mbz17CiAgICAgICAgIuKZsO+4mdin2YTYo9iz2YDYqtiu2K/Yp9mFIjogItmK2YLZgNmI2YUg2KjZgNin2YTYutin2KEg2K3ZgNi42LEg2KfZhNi02YDYrti1INmB2Yog2KfZhNmA2YPYsdmI2Kgg2KfZhNiw2Yog2KfYs9mA2KrYrtiv2YXYqiDZgdmK2YDZhyDYp9mE2KfZhdixLiIsCiAgICAgICAgIuKZsO+4mdin2YTYtNix2K0iOiAi2YTYo9mE2YDYutin2KEg2K3ZgNi42LEg2LTYrtmA2LUg2YXZhiDYp9mE2YPZgNix2YjYqCDZiNin2YTYs9mA2YXYp9itINmE2Ycg2YXZhiDYp9mE2KPZhtmA2LbZhdin2YUg2YXYrNmA2K/Yr9inXAogICAgICAgICAgICBcbuKZsO+4mdiq2YDYrdiq2KfYrCDYp9mE2LXZhNin2K3ZgNmK2KfYqiDZhNmA2YfYsNinINin2YTYo9mF2YDYsS4iLAogICAgICAgICLimbDvuJnYp9mE2KPZhdmA2LEiOiBbCiAgICAgICAgICAgICJ7dHJ92KfZhNi62KfYoSDYrdi42LEgPNin2YTYp9mK2K/Zii/Yp9mE2YXYudix2YEv2KjYp9mE2LHYryDYudmE2YrZhz4iLAogICAgICAgICAgICAie3Ryfdin2YTYutin2KEg2K3YuNixIDzYp9mE2KfZitiv2Yov2KfZhNmF2LnYsdmBL9io2KfZhNix2K8g2LnZhNmK2Yc+IDzYp9mE2LPYqNioPiAiLAogICAgICAgIF0sCiAgICB9LAogICAgZ3JvdXBzX29ubHk9VHJ1ZSwKICAgIHJlcXVpcmVfYWRtaW49VHJ1ZSwKKQphc3luYyBkZWYgbm90aGFub3MoZXZlbnQpOgogICAgIuKZsO+4mdmE2KPZhNmA2LrYp9ihINin2YTZgNit2LjYsSDZhNmA2LTYrti1INmB2Yog2YPZgNix2YjYqCDZhdmA2LnZitmGIgogICAgdXNlciwgXyA9IGF3YWl0IGdldF91c2VyX2Zyb21fZXZlbnQoZXZlbnQpCiAgICBpZiBub3QgdXNlcjoKICAgICAgICByZXR1cm4KICAgIGNhdGV2ZW50ID0gYXdhaXQgZWRpdF9vcl9yZXBseShldmVudCwgIuKZsO+4mdis2YDYp9ixINin2YTZgNi62KfYoSDYp9mE2YDYrdi42LEg2KPZhtiq2YDYuNixINix2KzZgNin2KHYpyIpCiAgICB0cnk6CiAgICAgICAgYXdhaXQgZXZlbnQuY2xpZW50KEVkaXRCYW5uZWRSZXF1ZXN0KGV2ZW50LvCdlonwnZaK8J2Wm2F0X2lkLCB1c2VyLmlkLCBVTkJBTl9SSUdIVFMpKQogICAgICAgIGF3YWl0IGNhdGV2ZW50LmVkaXQoCiAgICAgICAgICAgIGYi4pmw77iZ2KfZhNmA2YXYs9iq2K7Yr9mFIHtfZm9ybWF0Lm1lbnRpb251c2VyKHVzZXIuZmlyc3RfbmFtZSAsdXNlci5pZCl9XG4g4pmw77iZ2KrZgNmFINin2YTZgNi62KfYoSDYrdmA2LjYsdmHINio2YbZgNis2KfYrSAiCiAgICAgICAgKQogICAgICAgIGlmIEJPVExPRzoKICAgICAgICAgICAgYXdhaXQgZXZlbnQuY2xpZW50LnNlbmRfbWVzc2FnZSgKICAgICAgICAgICAgICAgIEJPVExPR1/wnZaJ8J2WivCdlptBVElELAogICAgICAgICAgICAgICAgIuKZsO+4mdin2YTZgNi62KfYoSDYp9mE2YDYrdi42LEgXG4iCiAgICAgICAgICAgICAgICBmItin2YTZgNmF2LPYqtiu2K/ZhTogW3t1c2VyLmZpcnN0X25hbWV9XSh0ZzovL3VzZXI/aWQ9e3VzZXIuaWR9KVxuIgogICAgICAgICAgICAgICAgZiLYp9mE2YDYr9ix2K/YtNmA2Kk6IHtldmVudC7wnZaJ8J2WivCdlpthdC50aXRsZX0oYHtldmVudC7wnZaJ8J2WivCdlpthdF9pZH1gKSIsCiAgICAgICAgICAgICkKICAgIGV4Y2VwdCBVc2VySWRJbnZhbGlkRXJyb3I6CiAgICAgICAgYXdhaXQgY2F0ZXZlbnQuZWRpdCgi4pmw77iZ2YrZgNio2K/ZiCDYo9mGINmH2LDZhyDYp9mE2YDYudmF2YTZitmA2Kkg2KrZhSDYpdmE2LrYp9ik2YfZgNinIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBhd2FpdCBjYXRldmVudC5lZGl0KGYiKirYrtmA2LfYoyA6KipcbmB7ZX1gIikKCgpAam10aG9uLmFyX2NtZChpbmNvbWluZz1UcnVlKQphc3luYyBkZWYgd2F08J2WifCdlorwnZabZXIoZXZlbnQpOgogICAgaWYgaXNfbXV0ZWQoZXZlbnQuc2VuZGVyX2lkLCBldmVudC7wnZaJ8J2WivCdlpthdF9pZCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBhd2FpdCBldmVudC5kZWxldGUoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgTE9HUy5pbmZvKHN0cihlKSkK'))
